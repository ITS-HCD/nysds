import { Meta } from "@storybook/blocks";

<Meta title="Typography" />

# Typography

Typography is a core pillar of the Excelsior Design System, providing a consistent foundation for readability, accessibility, and brand alignment across all New York State digital applications.

## Overview

Typography in Excelsior is powered by the core fonts that define the New York State brand. These include:

- **Proxima Nova**: The primary typeface for body text and UI elements.
- **D Sari**: The brand font used for agency, program, and initiative titles.
- **Oswald**: A supporting typeface for content-heavy websites (optional).

Due to licensing restrictions, the fonts themselves are not distributed as part of the open-source Excelsior Design System. They are available exclusively to New York State teams via [Excelsior Fonts](https://github.com/ITS-HCD/excelsior-fonts) _(internal)_. However, Excelsior provides a set of typography tokens and utilities that work well with Proxima Nova but will fall back to system fonts if the primary fonts are not available.

### Typography Tokens

Excelsior defines typography tokens (also known as [CSS variables](https://developer.mozilla.org/en-US/docs/Web/CSS/Using_CSS_custom_properties)) ‚Äî for each font property. These tokens are organized into **primitive** and **semantic** categories.

#### Primitive

Primitive tokens are the raw typographical building blocks: family, size, weight, line height, and letter spacing. These tokens represent a range of sensible default values that can be used to build out interfaces. This includes tokens like `--nys-font-family-sans`, `--nys-font-size-md`, and `--nys-font-lineheight-lg`. 

‚õîÔ∏è These values **are not** meant to be used directly in your stylesheets. They are used to define the **semantic** tokens.

#### Semantic

Semantic tokens map specific properties to specific roles, like headings, body text, and UI elements. 

‚úÖ They **are** meant to be used directly in stylesheets. They help standardize font usage across components and applications.

Here are a few examples of Excelsior's semantic typography tokens:

<table>
  <thead>
    <tr>
      <th>Token Name</th>
      <th>Description</th>
      <th>Example Value</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>--nys-font-family-body</code></td>
      <td>Font family for body text.</td>
      <td><code>var(--nys-font-family-sans)</code></td>
    </tr>
    <tr>
      <td><code>--nys-font-size-h1</code></td>
      <td>Font size for Heading 1 elements.</td>
      <td><code>var(--nys-font-size-5xl)</code></td>
    </tr>
    <tr>
      <td><code>--nys-font-size-ui-md</code></td>
      <td>Medium font size for UI elements.</td>
      <td><code>var(--nys-font-size-md)</code></td>
    </tr>
  </tbody>
</table>

## Installing Fonts

‚ö†Ô∏è Note: Fonts in the design system include some proprietary typefaces that are licensed for use exclusively by New York State government agencies and their digital products. These fonts are distributed separately from the design system and are not part of the open-source package to comply with licensing restrictions.

### Download and Install

To access these fonts:

1. Download the appropriate font bundle from [Excelsior Fonts](https://github.com/ITS-HCD/excelsior-fonts). (üîí *Internal NYS Only*)
2. Extract the fonts into your project.
3. Reference the provided `excelsior-fonts.css` in the HTML head of your project:

``` html
<link rel="stylesheet" href="/assets/fonts/excelsior-fonts.css">
```

Excelsior web components using the typography tokens, so as soon as the fonts are installed, the components will appear correctly. More details about using Excelsior tokens below.

### Preload Critical Fonts (Optional)

For better performance, preload critical fonts. This helps reduce the chance of a fallback font loading and then the web font loading later, causing layout reflow and a Flash of Unstyled Text (FOUT):

``` html
<head>
  <link rel="preload" href="/assets/fonts/proximanova-regular.woff2" as="font" type="font/woff2" crossorigin="anonymous">
</head>
```

Find more details about preloading fonts and web font best practices in Google's [Using Web Fonts guide](https://fonts.google.com/knowledge/using_type/using_web_fonts).


## Using Typography in a Project

Excelsior's native web components use the typography tokens. 

If you're not using Excelsior components or if you're styling custom elements or parts of the site not covered by the components, use the typography tokens or utility classes directly in CSS and HTML.

### Tokens

Apply them using `var()` in CSS or by using utility classes. Here are some examples:

```css
body {
  font-family: var(--nys-font-family-body);
  font-size: var(--nys-font-size-md);
  line-height: var(--nys-font-lineheight-lg);
}
```

### Utility Classes

Excelsior also provides utility classes that combine several font tokens into common styles. These can be applied directly in your HTML or included in your project‚Äôs CSS.

For example, Excelsior define several utility classes that apply the font size, line height, and family for specific semantic text roles like heading, body, UI, and display:

``` css
.nys-font-h1 {
  font: var(--nys-font-size-h1) / var(--nys-font-lineheight-h1) var(--nys-font-family-heading);
}
.nys-font-body {
  font: var(--nys-font-size-md) / var(--nys-font-lineheight-md) var(--nys-font-family-body);
}
```

You can reference these classes in your HTML:

``` html
<h1 class="nys-font-h1">Welcome to Excelsior</h1>
<div class="nys-font-body">
  <p>This is a sample paragraph styled using Excelsior typography utilities.</p>
  <p>The parent element has the .nys-font-body class applied.</p>
</div>
```

## Best Practices

1. **Use Semantic Tokens for Consistency**  
   Always use semantic typography tokens for fonts, sizes, and line heights. Avoid primitive tokens or hardcoding font properties.

2. **Use Utilities When Necessary**  
   Use the predefined `.nys-font-*` classes for rapid development and consistent styling for parts of your applications or site not powered by Excelsior components.

3. **Preload Critical Fonts**  
   Preload the most-used font weights and styles to improve perceived performance ‚Äî in most cases, this is Proxima Nova Regular.

4. **Extend Existing Components**  
   Excelsior web components automatically reference typography tokens. Use custom styles to extend or override these tokens for specific needs before creating new components.

## Resources

- [Excelsior Fonts Repository (Internal)](https://github.com/ITS-HCD/excelsior-fonts)
- [Excelsior Design System Tokens](?path=/docs/design-tokens--docs)
- [Using Web Fonts](https://fonts.google.com/knowledge/using_type/using_web_fonts)