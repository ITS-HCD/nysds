import { Meta, Story, Source, Canvas } from "@storybook/blocks";
import { html } from "lit";
import * as NysToggleStories from "./nys-toggle.stories";

<Meta of={NysToggleStories} title="Components/Toggle/Documentation" />

# Toggle
The **`nys-toggle`** component is a reusable web component for use in New York State digital products. It allows users to toggle an option on or off.

If an id is not passed, a unique id will be generated.

<Canvas of={NysToggleStories.ToggleSwitch} />

## Property Examples
### Checked
<Canvas of={NysToggleStories.Checked} />

### Help Texts
Add some descriptive help texts like the `label` prop or by adding HTML elements within the toggle component. HTML descriptions within the component uses embedded slots.
Slot names: 
- `description-right`
- `description-bottom`
<Canvas of={NysToggleStories.HelpTexts} />

### Unchecked Disabled
<Canvas of={NysToggleStories.UncheckedDisabled} />

### Checked Disabled
<Canvas of={NysToggleStories.CheckedDisabled} />

### Sizes
The current size is set to `size="lg"`. Adjust the `size` property to see how it changes the toggle's appearance.
<Canvas of={NysToggleStories.Sizes} />

## Events

The `NysToggle` component emits three custom events:

1. **`change`** – Fired when the toggle state changes (checked/unchecked).
2. **`focus`** – Fired when the toggle gains focus.
3. **`blur`** – Fired when the toggle loses focus.
4. **`keydown`** – Fired when a key is pressed while the toggle is focused.

You can listen to these events using JavaScript:

```js

  // Select the toggle component
  const toggle = document.querySelector('nys-toggle');

  // Listen for the 'change' event
  toggle.addEventListener('change', (event) => {
    console.log('Checkbox changed:', event.target.checked);
  });

  // Listen for the 'focus' event
  toggle.addEventListener('focus', () => {
    console.log('Checkbox is focused');
  });

  // Listen for the 'blur' event
  toggle.addEventListener('blur', () => {
    console.log('Checkbox lost focus');
  });

  // Listen for the 'keydown' event
  toggle.addEventListener('keydown', (event) => {
    console.log('Key pressed:', event.key);
  });
```

## Accessibility

The `nys-toggle` component includes the following accessibility-focused features:

- **Keyboard Navigation Support**: allowing users to toggle the toggle switch using the keyboard.
- **Customizable ARIA Label**: If a label is provided, the component automatically adds an `aria-label` attribute, making the toggle switch accessible to screen readers.

### Labels
Include a label property to provide accessible text for screen readers.
<Canvas of={NysToggleStories.Labels} />