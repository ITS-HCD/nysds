import { Meta, Story, Source, Canvas, Controls } from '@storybook/blocks';
import { html } from 'lit';
import * as NysCheckboxStories from './nys-checkbox.stories';

<Meta of={NysCheckboxStories} title="Components/Checkbox/Documentation" />

# Checkbox

The **`nys-checkbox`** component is a reusable web component for use in New York State digital products. It provides users with the ability to toggle a binary state (checked/unchecked).

<p className="pill stable">Stable</p>

<p className="pill uikit"><a href="#">Get the UI kit</a></p>

***

<Canvas of={NysCheckboxStories.Basic} />

<Controls />

### Variants

#### Disabled
<Canvas of={NysCheckboxStories.Disabled} />
#### Required
<Canvas of={NysCheckboxStories.Required} />
#### Error Message
The error message will appear **ONLY** when the `showError` attribute is set to `true`. Setting `errorMessage` will not display the error message by default.
<Canvas of={NysCheckboxStories.ErrorMessage} />
#### Slots
When the description requires more complexity than a simple `string` value, use the slot `description` to hold the text. This allows the developer to include HTML in the description, such as `<a>` or `<strong>`
<Canvas of={NysCheckboxStories.Slot} />
#### Checkbox Group
<Canvas of={NysCheckboxStories.CheckboxGroup} />

## Use cases

### When to use this component
- When you need to provide a yes/no answer.
- When you need a confirmation from the user.
- When you need a user to select multiple options from a list.

### When to consider something else
- When you need a user to select only one option from a list.

## Usage

<div className="usage-wrapper">
  <div className="usagedos do">
    ### Do
    - Use the checkbox component when you need to provide a yes/no answer.
    - Use the checkbox component when you need a confirmation from the user.
    - Use the checkbox component when you need a user to select multiple options from a list.
  </div>
  <div className="usagedos dont">
    ### Don't
    - Use the checkbox component when you need a user to select only one option from a list.
  </div>
</div>

## Accessibility

The `nys-checkbox` component includes the following accessibility-focused features:

- Proper ARIA roles and attributes to ensure screen readers can interpret the checkbox correctly.
- Keyboard navigation support, allowing users to toggle the checkbox using the keyboard.
- Visual focus indicators to help users navigate the component.

## Events

The `NysCheckbox` component emits three custom events:

1. **`change`** – Fired when the checkbox state changes (checked/unchecked).
2. **`focus`** – Fired when the checkbox gains focus.
3. **`blur`** – Fired when the checkbox loses focus.
4. **`keydown`** – Fired when a key is pressed while the checkbox is focused.

You can listen to these events using JavaScript:

```js

  // Select the checkbox component
  const checkbox = document.querySelector('nys-checkbox');

  // Listen for the 'change' event
  checkbox.addEventListener('change', (event) => {
    console.log('Checkbox changed:', event.target.checked);
  });

  // Listen for the 'focus' event
  checkbox.addEventListener('focus', () => {
    console.log('Checkbox is focused');
  });

  // Listen for the 'blur' event
  checkbox.addEventListener('blur', () => {
    console.log('Checkbox lost focus');
  });

  // Listen for the 'keydown' event
  checkbox.addEventListener('keydown', (event) => {
    console.log('Key pressed:', event.key);
  });
```

## Slots

<table>
    <thead>
    <tr>
        <th>Slot name</th>
        <th>Description</th>
        <th>Default value</th>
    </tr>
    </thead>
    <tbody>
    <tr>
        <td>`description`</td>
        <td>Description text for either `nys-checkbox` or `nys-checkboxgroup`</td>
        <td>none</td>
    </tr>
    </tbody>
</table>

## Parts

<table>
    <thead>
    <tr>
        <th>Part name</th>
        <th>Description</th>
    </tr>
    </thead>
    <tbody>
    <tr>
        <td>`nys-checkbox`</td>
        <td>Wrapper of the entire component</td>
    </tr>
    <tr>
        <td>`nys-checkbox__content`</td>
        <td>Wrapper of the native input and the text</td>
    </tr>
    <tr>
        <td>`nys-checkbox__checkboxwrapper`,`nys-checkbox__checkbox`</td>
        <td>Wrapper of native input component and the native component</td>
    </tr>
    <tr>
        <td>`nys-checkbox__icon`</td>
        <td>The check icon that appears when the checkbox value is `true`</td>
    </tr>
    <tr>
        <td>`nys-checkbox__text`, `nys-checkbox__label`, `nys-checkbox__description`</td>
        <td>Text that appears next to the checkbox</td>
    </tr>
    <tr>
        <td>`nys-checkbox__requiredwrapper`, `nys-checkbox__required`</td>
        <td>Displays the asterisk if the component is required</td>
    </tr>
    <tr>
        <td>`nys-checkbox__error`</td>
        <td>Displays the error message if the component is in an error state</td>
    </tr>
    </tbody>
</table>

## Dependencies
This component automatically imports the following dependencies.

- `<nys-icon>`