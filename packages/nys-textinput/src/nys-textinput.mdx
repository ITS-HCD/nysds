import { Meta, Story, Source, Canvas, Controls } from '@storybook/blocks';
import { html } from 'lit';
import * as NysTextinputStories from './nys-textinput.stories';

<Meta of={NysTextinputStories} title="Components/Textinput/Documentation" />


# Text Input

The **`nys-textinput`** is a reusable web component for use in New York State digital products. It allows users to input data to be collected.

<p className="pill stable">Stable</p>

<p className="pill uikit"><a target="_blank" href="https://www.figma.com/design/0ogYpymUPQQfhELthntNbt/%F0%9F%92%A0-NYS-%2F-Excelsior-Components-(Alpha)?node-id=2896-7897&m=dev">Get the UI kit</a></p>

***

<Canvas of={NysTextinputStories.Basic} />

<Controls />

### Variants

#### Width
If no width is provided, the `nys-textinput` will default to `full`. Supported widths are `sm`, `md`, `lg`, and `full`.\
Width `full` will take up the full width of the parent container.\
If an invalid option is assigned to `width`, it will be ignored and default to `full`.
<Canvas of={NysTextinputStories.Width} />
#### Different Input Types
Note: Accepted types are: `text` `email` `number` `password` `search` `tel` `url`\
Any other input defaults to `type="text"`
<Canvas of={NysTextinputStories.DifferentTypes} />
#### Values and Placeholders
<Canvas of={NysTextinputStories.ValueAndPlaceholder} />
#### Disabled and Readonly
<Canvas of={NysTextinputStories.Disabled} />
<Canvas of={NysTextinputStories.Readonly} />
#### Max Min and Step
Note: `max` `min` `step` only apply when `type="number"`
<Canvas of={NysTextinputStories.MaxMinAndStep} />
#### Maxlength
<Canvas of={NysTextinputStories.Maxlength} />
#### Pattern
Note: Takes in valid regex 
<Canvas of={NysTextinputStories.Pattern} />
#### Required
<Canvas of={NysTextinputStories.Required} />
#### Error Message
<Canvas of={NysTextinputStories.ErrorMessage} />

## Use cases

### When to use this component
- When you need to collect text input from the user.
- When the input is specific to the user.

### When to consider something else
- When you need to collect multiple lines of data from the user.
- When you need the user to select data from a list of predetermined options.

## Usage

<div className="usage-wrapper">
  <div className="usagedos do">
    ### Do
    - When you need to collect text input from the user.
    - When the input is specific to the user.
  </div>
  <div className="usagedos dont">
    ### Don't
    - When you need to collect multiple lines of data from the user.
    - When you need the user to select data from a list of predetermined options.
 </div>
</div>

## Accessibility

The `nys-textinput` component includes the following accessibility-focused features:

- Proper ARIA roles and attributes to ensure screen readers can interpret the label correctly.
- Keyboard navigation support, allowing users to tab into the input using the keyboard.
- Visual focus indicators to help users navigate the component.
 
 ## Events

The `nys-textinput` component emits the following events:

1. **`nys-checkValidity`** – Fired when the input text changes.
2. **`focus`** – Fired when the input gains focus.
3. **`blur`** – Fired when the input loses focus.

You can listen to these events using JavaScript:

```js

// Select the textinput component
const textinput = document.querySelector('nys-textinput');

// Listen for the 'nys-checkValidity' event
textinput.addEventListener('nys-checkValidity', (event) => {
  console.log('Text input changed:', event.target.value);
});

// Listen for the 'focus' event
textinput.addEventListener('focus', () => {
  console.log('Text input is focused');
});

// Listen for the 'blur' event
textinput.addEventListener('blur', () => {
  console.log('Text input is blurred');
});
```