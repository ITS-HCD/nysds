import { Meta, Story, Source, Canvas, Controls } from "@storybook/blocks";
import { html } from "lit";
import * as NysAvatarStories from "./nys-avatar.stories";

<Meta of={NysAvatarStories} title="Components/Avatar/Documentation" />

# Avatar
The **`nys-avatar`** component is a reusable web component for use in New York State digital products. It allows users to represent a person or object.

By default, a generic icon is displayed. Personalize avatars with custom icons, initials, or images, and always include a label for accessibility. \
If an id is not passed, a unique id will be generated.

<p class="pill stable">Stable</p>
<p class="pill uikit"><a href="https://www.figma.com/design/0ogYpymUPQQfhELthntNbt/%F0%9F%92%A0-NYS-%2F-Excelsior-Components-(Alpha)?node-id=1436-1601&p=f&m=dev">Get the UI kit</a></p>

***

<Canvas of={NysAvatarStories.Default} />

<Controls />


## Variants
### Images
To display an image in the avatar, set the `image` and `label` attributes. These will take priority and override initials and icons. You can also enable lazy loading for avatar images by setting the `lazy` boolean attribute.
<Canvas of={NysAvatarStories.AvatarImage} />

### Initials
If an image is unavailable, you can set the `initials` attribute to display a personalized placeholder instead of an icon.
<Canvas of={NysAvatarStories.AvatarInitials} />

### Custom Icons
When no image or initials are set, an icon will be shown. The default avatar shows an icon called "account_circle", but you can customize this with any other name found in `nys-icon` using the `icon` prop or customize directly within `nys-avatar` with the icon slot.
<Canvas of={NysAvatarStories.AvatarIcon} />

### Shapes
Avatars can be shaped using the shape attribute.
<Canvas of={NysAvatarStories.AvatarShapes} />

### Sizes
Avatars can come in three different sizes: `sm`, `md`, and `lg`.
<Canvas of={NysAvatarStories.AvatarSizes} />

### Background Color
You can change the background color of an Avatar. Note that images will naturally cover over the background color.
<Canvas of={NysAvatarStories.AvatarBgColor} />

## Use cases

### When to use this component
  - To visually represent users, objects, or entities in a UI.
  - Ideal for profiles, account settings, or comment threads.

### When to consider something else
  - If the avatar doesn’t add value to the context.
  - When a simple label or text works better.

## Usage 
<div class="usagedos do">
### Do
- Use for clear, simple user or entity representation.
- Use appropriate shapes, sizes, and images to fit the overall page design.
- Use `<nys-icon>` as a slot when you need further customizations that the `icon` prop can't provide.
</div>

<div class="usagedos dont">
### Don't
  - Don’t overload the avatar with unnecessary customizations.
  - Don’t skip the `label` attribute for screen reader users.
  - Don't use the `<nys-icon>` as a slot when `icon` prop can satisfy your use.
</div>

## Accessibility
The `nys-avatar` component includes the following accessibility-focused features:

- Proper ARIA roles and attributes to ensure screen readers can interpret the avatar correctly.
- A label property to provide accessible text for screen readers.

## Parts
<table>
   <thead>
      <tr>
         <th>Part name</th>
         <th>Description</th>
      </tr>
   </thead>
   <tbody>
      <tr>
         <td>`base`</td>
         <td>The component’s base wrapper.</td>
      </tr>
      <tr>
         <td>`icon`</td>
         <td>The container that wraps the avatar’s icon.</td>
      </tr>
      <tr>
         <td>`initials`</td>
         <td>The container that wraps the avatar’s initials.</td>
      </tr>
      <tr>
         <td>`image`</td>
         <td>The avatar image. Only shown when the image attribute is set.</td>
      </tr>
   </tbody>
</table>

## Dependencies
This component automatically imports the following dependencies.
- `<nys-icon>`