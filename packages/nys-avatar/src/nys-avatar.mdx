import { Meta, Story, Source, Canvas, Controls } from "@storybook/addon-docs/blocks";
import { html } from "lit";
import * as NysAvatarStories from "./nys-avatar.stories";
import "@nysds/nys-icon";
import '@nysds/nys-badge';

<Meta of={NysAvatarStories} title="Components/Avatar/Documentation" />

# Avatar
The **`nys-avatar`** component is a reusable web component for use in New York State digital products. It allows users to represent a person or object.

By default, a generic icon is displayed. Personalize avatars with custom icons, initials, or images, and always include an `ariaLabel` for accessibility. \
If an id is not passed, a unique id will be generated.

<div className="nys-grid-row nys-grid-gap-1">
  <nys-badge label="Stable" prefixIcon="code"></nys-badge>
  <nys-badge
    prefixIcon
    prefixLabel="WCAG 2.2"
    label="AA"
    intent="success"
  ></nys-badge>
  <p className="pill pill--uikit"><a target="_blank" href="https://www.figma.com/design/U2QpuSUXRTxbgG64Fzi9bu?node-id=3981-9063">View in Figma</a></p>
</div>

***

<Canvas of={NysAvatarStories.Basic} />

<Controls />


## Variants
### Images
To display an image in the avatar, set the `image` and `ariaLabel` attributes. Images will take <u>priority and override</u> initials and icons. You can also enable lazy loading for avatar images by setting the `lazy` boolean attribute.
<Canvas of={NysAvatarStories.AvatarImage} />

### Initials
If an image is unavailable, you can set the `initials` attribute to display a personalized placeholder instead of an icon. Initials will take <u>priority and override</u> icons.
<Canvas of={NysAvatarStories.AvatarInitials} />

### Custom Icons
When no image or initials are set, an icon will be shown. The default avatar shows an icon called "account_circle", but you can customize this with any other name found in `<nys-icon>` using the `icon` prop or customize directly within `nys-avatar` with the icon slot.
<Canvas of={NysAvatarStories.AvatarIcon} />

### Interactive
Enable the `interactive` prop to apply interactive styling states and keyboard focus.
<Canvas of={NysAvatarStories.AvatarInteractive} />

### Disabled
Use the `disabled` prop to prevent interaction and remove focusability.
<Canvas of={NysAvatarStories.AvatarDisabled} />

### Background Color
The background color of the Avatar can be customized using the color attribute. This attribute accepts any valid color value, including <a href="https://designsystem.ny.gov/foundations/design-tokens/" target="_blank" rel="noopener noreferrer">design tokens</a>, such as: `color="var(--nys-color-theme)"` \
**Note:** When an image is provided, it will overlay and fully cover the background color. The inner foreground (icon or initials) automatically switches to #000 or #fff for contrast.
<Canvas of={NysAvatarStories.AvatarBgColor} />

## Usage

### When to use this component
  - To visually represent users, objects, or entities in a UI.
  - Ideal for profiles, account settings, or comment threads.

### When to consider something else
  - If the avatar doesn’t add value to the context.
  - When a simple label or text works better.

<div className="nys-grid-row nys-grid-gap-lg">
   <div className="nys-mobile-lg:nys-grid-col">
      <div className="usage-card usage-card--do">
         ### <nys-icon name="check_circle" color="var(--nys-color-success)" /> Do
         - Use for clear, simple user or entity representation.
         - Use appropriate images, initials, and icons to fit the overall page design.
         - Use `<nys-icon>` as a slot when you need further customizations that the `icon` prop can't provide.
      </div>
   </div>
   <div className="nys-mobile-lg:nys-grid-col">
      <div className="usage-card usage-card--dont">
         ### <nys-icon name="error" color="var(--nys-color-danger)"/> Don't
         - Don’t overload the avatar with unnecessary customizations.
         - Don’t skip the `ariaLabel` attribute for screen reader users.
         - Don't use the `<nys-icon>` as a slot when `icon` prop can satisfy your use.
      </div>
   </div>
</div>
## Accessibility
The `nys-avatar` component includes the following accessibility-focused features:

- Proper ARIA roles and attributes to ensure screen readers can interpret the avatar correctly.
- An `ariaLabel` property to provide accessible text for screen readers.

## Parts
<table>
   <thead>
      <tr>
         <th>Part name</th>
         <th>Description</th>
         <th>Default value</th>
      </tr>
   </thead>
   <tbody>
      <tr>
         <td>`nys-avatar__icon`</td>
         <td>The container that wraps the avatar’s icon.</td>
         <td>nys-avatar__icon</td>
      </tr>
   </tbody>
</table>

## Dependencies
This component automatically imports the following dependencies.
- `<nys-icon>`
