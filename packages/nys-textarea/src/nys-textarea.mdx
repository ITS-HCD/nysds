import { Meta, Story, Source, Canvas, Controls } from '@storybook/blocks';
import { html } from 'lit';
import * as NysTextareaStories from './nys-textarea.stories';

<Meta of={NysTextareaStories} title="Components/Textarea/Documentation" />


# Text Area
The **`nys-textarea`** is a reusable web component for use in New York State digital products. It allows users to input multiple lines of text to be collected.

<p className="pill stable">Stable</p>

<p className="pill uikit"><a target="_blank" href="https://www.figma.com/design/0ogYpymUPQQfhELthntNbt/%F0%9F%92%A0-NYS-%2F-Excelsior-Components-(Alpha)?node-id=1436-993&p=f&m=dev">Get the UI kit</a></p>

***

<Canvas of={NysTextareaStories.Basic} />

<Controls />

### Variants

### Basic Text Area

#### Width 
If no width is provided, the `nys-textarea` will default to `full`. Supported widths are `sm`, `md`, `lg`, and `full`.\
Width `full` will take up the full width of the parent container.\
If an invalid option is assigned to `width`, it will be ignored and default to `full`.
<Canvas of={NysTextareaStories.Width} />
#### Rows
The `rows` attribute specifies the visible height of a text area, in number of lines.\
The default value is `rows="2"`
<Canvas of={NysTextareaStories.Rows} />
#### Resize
By default the user can resize the `nys-textarea` vertically. If you want to disallow resizing altogether add `resize="none"`\
Note: resize is not affected by setting `nys-textarea` to `disabled` or `readonly` and they are independent.
<Canvas of={NysTextareaStories.Resize} />
#### Description Slot
<Canvas of={NysTextareaStories.DescriptionSlot} />
#### Values and Placeholders
<Canvas of={NysTextareaStories.ValueAndPlaceholder} />
#### Disabled and Readonly
<Canvas of={NysTextareaStories.Disabled} />
<Canvas of={NysTextareaStories.Readonly} />
#### Maxlength
<Canvas of={NysTextareaStories.Maxlength} />
#### Required
<Canvas of={NysTextareaStories.Required} />
#### Error Message
<Canvas of={NysTextareaStories.ErrorMessage} />

## Use cases

### When to use this component
- When you need to collect multiple lines of text input from the user.
- When the input is specific to the user.

### When to consider something else
- When you need to collect a single line of text input from the user.
- When you need the user to select data from a list of predetermined options.

## Usage

<div className="usage-wrapper">
    <div className="usagedos do">
        <h3>Do</h3>
        <p>Use the `nys-textarea` when you need to collect multiple lines of text input from the user.</p>
        <p>Use the `nys-textarea` when the input is specific to the user.</p>
    </div>
    <div className="usagedos dont">
        <h3>Don't</h3>
        <p>Don't use the `nys-textarea` when you need to collect a single line of text input from the user.</p>
        <p>Don't use the `nys-textarea` when you need the user to select data from a list of predetermined options.</p>
    </div>
</div>

## Accessibility

The `nys-textarea` component includes the following accessibility-focused features:

- Proper ARIA roles and attributes to ensure screen readers can interpret the label correctly.
- Keyboard navigation support, allowing users to tab into the input using the keyboard.
- Visual focus indicators to help users navigate the component.
 
## Events

The `nys-textarea` component emits the following events:

1. **`nys-checkValidity`** – Fired when the input text changes.
2. **`focus`** – Fired when the input gains focus.
3. **`blur`** – Fired when the input loses focus.

You can listen to these events using JavaScript:

```js

// Select the textarea component
const textarea = document.querySelector('nys-textarea');

// Listen for the 'nys-checkValidity' event
textarea.addEventListener('nys-checkValidity', (event) => {
  console.log('Text input changed:', event.target.value);
});

// Listen for the 'focus' event
textarea.addEventListener('focus', () => {
  console.log('Text input is focused');
});

// Listen for the 'blur' event
textarea.addEventListener('blur', () => {
  console.log('Text input is blurred');
});
```