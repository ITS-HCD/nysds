import { Meta, Story, Source, Canvas } from '@storybook/blocks';
import { html } from 'lit';
import * as NysRadiobuttonStories from './nys-radiobutton.stories';

<Meta of={NysRadiobuttonStories} title="Components/Radiobutton/Documentation" />

# Radiobutton

The **`nys-radiobutton`** component is a reusable web component for use in New York State digital products. It provides users with the ability to toggle a binary state (checked/unchecked).

If an id is not passed, a unique id will be generated.

If `checked=true` is assigned to multiple options in a `radiogroup` only the last option will take the `true` state

## Examples

### All Editable Options

<Canvas of={NysRadiobuttonStories.AllEditableOptions} />

### Partial Editable Options

<Canvas of={NysRadiobuttonStories.PartialEditableOptions} />

### Disabled Options

<Canvas of={NysRadiobuttonStories.DisabledOptions} />

## Events

The `NysRadiobutton` component emits three custom events:

1. **`change`** – Fired when the radiobutton state changes (checked/unchecked).
2. **`focus`** – Fired when the radiobutton gains focus.
3. **`blur`** – Fired when the radiobutton loses focus.
4. **`keydown`** – Fired when a key is pressed while the radiobutton is focused.

You can listen to these events using JavaScript:

```js

  // Select the radiobutton component
  const radiobutton = document.querySelector('nys-radiobutton');

  // Listen for the 'change' event
  radiobutton.addEventListener('change', (event) => {
    console.log('Radiobutton changed:', event.target.checked);
  });

  // Listen for the 'focus' event
  radiobutton.addEventListener('focus', () => {
    console.log('Radiobutton is focused');
  });

  // Listen for the 'blur' event
  radiobutton.addEventListener('blur', () => {
    console.log('Radiobutton lost focus');
  });

  // Listen for the 'keydown' event
  radiobutton.addEventListener('keydown', (event) => {
    console.log('Key pressed:', event.key);
  });
```

## Accessibility

The `nys-radiobutton` component includes the following accessibility-focused features:

- Note: all `nys-radiobutton` elements of the same group need to be wrapped in a `<div role=radiogroup>` in order to work properly with screenreaders
- Proper ARIA roles and attributes to ensure screen readers can interpret the radiobutton correctly.
- Keyboard navigation support, allowing users to toggle the radiobutton using the keyboard.
- Visual focus indicators to help users navigate the component.