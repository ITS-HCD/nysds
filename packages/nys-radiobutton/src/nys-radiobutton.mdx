import { Meta, Story, Source, Canvas, Controls } from '@storybook/blocks';
import { html } from 'lit';
import * as NysRadiobuttonStories from './nys-radiobutton.stories';

<Meta of={NysRadiobuttonStories} title="Components/Radiobutton/Documentation" />

# Radiobutton

<p class="pill stable">Stable</p>

<p class="pill uikit"><a href="#">Get the UI kit</a></p>

The **`nys-radiobutton`** component is a reusable web component for use in New York State digital products. It provides users with the ability to toggle a binary state (checked/unchecked).

If an id is not passed, a unique id will be generated.

If `checked=true` is assigned to multiple options in a `radiogroup` only the last option will take the `true` state

***

<Canvas of={NysRadiobuttonStories.AllEditableOptions} />

<Controls />

### Variants

#### Partial Editable Options
<Canvas of={NysRadiobuttonStories.PartialEditableOptions} />
#### Disabled Options
<Canvas of={NysRadiobuttonStories.DisabledOptions} />
#### Required
<Canvas of={NysRadiobuttonStories.Required} />
#### Error Message
<Canvas of={NysRadiobuttonStories.ErrorMessage} />
#### Slots
When the description requires more complexity than a simple `string` value, use the slot `description` to hold the text. This allows the developer to include HTML in the description, such as `<a>` or `<strong>`\
Note: Both `nys-radiobutton` and `nys-radiogroup` support the description slot.
<Canvas of={NysRadiobuttonStories.Slot} />

## Use cases

### When to use this component
- When the user needs to select only one option from a list.
- When there are 7 or fewer options to choose from. 

### When to consider something else
- When the user needs to select multiple options from a list.
- When there are more than 7 options to choose from.

## Usage

<div class="usage-wrapper">
  <div class="usagedos do">
    ### Do
    - Use the radiobutton component when the user needs to select only one option from a list.
    - Use the radiobutton component when there are 7 or fewer options to choose from.
  </div>
  <div class="usagedos dont">
    ### Don't
    - Use the radiobutton component when the user needs to select multiple options from a list.
    - Use the radiobutton component when there are more than 7 options to choose from.
  </div>
</div>

## Accessibility

The `nys-radiobutton` component includes the following accessibility-focused features:

- Note: all `nys-radiobutton` elements of the same group need to be wrapped in a `<div role=radiogroup>` in order to work properly with screenreaders
- Proper ARIA roles and attributes to ensure screen readers can interpret the radiobutton correctly.
    - `aria-checked`
    - `aria-disabled`
    - `aria-required`
- Keyboard navigation support, allowing users to toggle the radiobutton using the keyboard.
- Visual focus indicators to help users navigate the component.

## Events

The `NysRadiobutton` component emits four custom events:

1. **`change`** – Fired when the radiobutton state changes (checked/unchecked).
2. **`focus`** – Fired when the radiobutton gains focus.
3. **`blur`** – Fired when the radiobutton loses focus.
4. **`keydown`** – Fired when a key is pressed while the radiobutton is focused.

You can listen to these events using JavaScript:

```js

  // Select the radiobutton component
  const radiobutton = document.querySelector('nys-radiobutton');

  // Listen for the 'change' event
  radiobutton.addEventListener('change', (event) => {
    console.log('Radiobutton changed:', event.target.checked);
  });

  // Listen for the 'focus' event
  radiobutton.addEventListener('focus', () => {
    console.log('Radiobutton is focused');
  });

  // Listen for the 'blur' event
  radiobutton.addEventListener('blur', () => {
    console.log('Radiobutton lost focus');
  });

  // Listen for the 'keydown' event
  radiobutton.addEventListener('keydown', (event) => {
    console.log('Key pressed:', event.key);
  });
```

## Slots

<table>
    <thead>
    <tr>
        <th>Slot name</th>
        <th>Description</th>
        <th>Default value</th>
    </tr>
    </thead>
    <tbody>
    <tr>
        <td>`description`</td>
        <td>Description text for either `nys-radiobutton` or `nys-radiogroup`</td>
        <td>none</td>
    </tr>
    </tbody>
</table>