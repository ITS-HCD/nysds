import { Meta, Story, Source, Canvas, Controls } from '@storybook/blocks';
import { html } from 'lit';
import * as NysAlertStories from './nys-alert.stories';

<Meta of={NysAlertStories} title="Components/Alert/Documentation" />

# Alert

The **`nys-alert`** component is a reusable web component for use in New York State digital products. It provides users with the ability to keep users informed of important and sometimes time-sensitive changes.

If an id is not passed, a unique id will be generated.

<p className="pill pill--stable">Stable</p>

<p className="pill pill--uikit"><a href="https://www.figma.com/design/0ogYpymUPQQfhELthntNbt/%F0%9F%92%A0-NYS-%2F-Excelsior-Components-(Alpha)?node-id=866-814&p=f&m=dev">View in Figma</a></p>

***

<Canvas of={NysAlertStories.Basic} />

<Controls />

## Variants
## All Alerts
Below are the available alert theme, each showcasing its unique style and purpose.
<Canvas of={NysAlertStories.AllAlerts} />

## Alert Property Examples
### Theme
Set the `theme` property to customize the alert style. Example: `theme="info"`.
<Canvas of={NysAlertStories.AlertType} />

### Custom Text
Add descriptive content to your alert using the `text` prop or the `slot="text"` feature. \
Use the `text` prop for simple texts, or leverage `slot="text"` for advanced HTML customizations, such as links or styled texts.
<Canvas of={NysAlertStories.Description} />

### Dismissible
Set a `dismissible` boolean property to add a close button in the top-right corner, allowing users to dismiss the alert.
> Additionally, the **nys-alert-closed** custom event is dispatched when the alert is dismissed. Developers can implement their own event listeners to handle custom actions, such as saving the alert's state locally. This allows for features like remembering dismissed alerts across page reloads.
<Canvas of={NysAlertStories.Dismissible} />

### Duration
Set the `duration` property to automatically hide the alert after a specified time (in milliseconds). This is ideal for non-critical alerts that do not require user acknowledgment.
<Canvas of={NysAlertStories.Duration} />

### Icon Customization
Override the default `theme` icon by setting the `icon` property to any name from the icon library.
<Canvas of={NysAlertStories.CustomIcon} />

### Heading only
You may find having just a heading without description as a good compact version of the alert, ideal for short contexts. An empty description will center the text and icon for a cleaner layout.
<Canvas of={NysAlertStories.HeadingOnly} />

### Action Links
Display primary and secondary actions as links in the alert, providing clear and direct user options. \
You must provide both an action label and a URL for each action to ensure proper functionality.
<Canvas of={NysAlertStories.ActionLinks} />

## Usage 

### When to use this component
  - Use `nys-alert` to communicate important, time-sensitive information to users in a visually prominent way.
  - Ideal for messages such as success notifications, danger alerts, warnings, or informational updates.
  - Use for dismissible or temporary alerts when the message is not critical to user workflow.

### When to consider something else
  - If the information is not time-sensitive or critical, consider using a less intrusive component, such as a tooltip or inline message.
  - Avoid using alerts for repetitive or non-actionable content that could frustrate users.
  - For notifications outside the page context, consider using a toast or modal component instead.

<div class="nys-grid-row nys-grid-gap-lg">
  <div class="nys-mobile-lg:nys-grid-col">
    <div class="usage-card usage-card--do">
      ### <nys-icon name="check_circle" color="--var(nys-color-success)" /> Do 
      - Keep the alert content concise and focused on the message.
      - Use the appropriate `theme` (e.g., `info`, `success`, `warning`, or `danger`) to match the intent of the alert.
      - Use the `dismissible` property for non-critical alerts, allowing users to clear them from the screen.
    </div>
  </div>
  <div class="nys-mobile-lg:nys-grid-col">
    <div class="usage-card usage-card--dont">
      ### <nys-icon name="error" color="--var(nys-color-warning)" /> Don't
      - Overuse alerts for non-critical information, as this can desensitize users to important messages.
      - Use icons or themes that donâ€™t clearly communicate the purpose of the alert.
    </div>
  </div>
</div>


## Accessibility

The `nys-alert` component includes the following accessibility-focused features:

- Keyboard navigation support, allowing users to use voiceover to read the alert using the keyboard.
- Visual focus indicators to help users navigate the component.

#### Each alert theme contains an ARIA role attribute that can notify assistive technologies of time-sensitive and important messages. 
<table border="1">
  <thead>
    <tr>
      <th><strong>ARIA Role</strong></th>
      <th><strong>Attribute</strong></th>
      <th><strong>Use Case</strong></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>`role="alert"`</td>
      <td>Important messages that demand the user's immediate attention.</td>
      <td>Example: Danger and Emergency alert</td>
    </tr>
    <tr>
      <td>`role="status"`</td>
      <td>Messages that provide advisory information but do not have the same urgency as alerts.</td>
      <td>Example: Success alert</td>
    </tr>
    <tr>
      <td>`role="region"`</td>
      <td>Messages that provide information the user would want to be able to easily find, but are not important enough to interrupt user workflow.</td>
      <td>Information and Warning alert (An `aria-label`will be added for this role.)</td>
    </tr>
  </tbody>
</table>

## Slots
<table>
    <thead>
    <tr>
        <th>Slot name</th>
        <th>Description</th>
        <th>Default value</th>
    </tr>
    </thead>
    <tbody>
    <tr>
        <td>`text`</td>
        <td>Allows insertion of custom HTML description content into the component.</td>
        <td>""</td>
    </tr>
    </tbody>
</table>
